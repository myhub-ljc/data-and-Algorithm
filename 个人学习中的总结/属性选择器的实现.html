<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>属性选择器的实现</title>
</head>
<body>
  <div class="box sh i"></div>
  <div class="box"></div>
  <div class="i"></div>
  <script>
    function $select(key, value) {
      //获取全局的元素 
      let elements = document.getElementsByTagName('*')
          arr = [] //创建一个空的数组用来存储符合条件的
          elements = Array.from(elements)  //将非数组转成数组
          elements.forEach(item => {
            let itemValue = item.getAttribute(key)
            if(key === "class") {
              //要做特殊处理(因为类属性可以有多个)
              new RegExp("\\b" + value + "\\b").test(itemValue)?arr.push(item):null;
              return;
            }
            if(itemValue === value) {
              arr.push(item)
            }
          })
          return arr
    }
    console.log($select("class", "i"))
  </script>
</body>
</html>