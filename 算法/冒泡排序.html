<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>冒泡排序</title>
</head>
<body>
  <script>
    /*
    (1)算法描述
      冒泡排序是一种简单的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果它们的顺序错误就把它们交换过来。走访数列的工作是重复地进行 直到没有再需要交换，也就是说该数列已经排序完成。这个算法的名字由来是因为 越小的元素会经由交换慢慢“浮”到数列的顶端。

    (2)算法描述和实现
      具体算法描述如下：
      <1>.比较相邻的元素。如果第一个比第二个大，就交换它们两个；
      <2>.对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对，这样在最后的元素应该会是最大的数；
      <3>.针对所有的元素重复以上的步骤，除了最后一个；
      <4>.重复步骤1~3，直到排序完成。
    */

    //普通实现
    function bubbleSort(arr) {
      var len = arr.length
      for(var i = 0; i < len; i++) {
        for(var j = 0; j < len - 1 - i; j++) {
          if(arr[j] > arr[j+1]) {
            var temp = arr[j+1]
            arr[j+1] = arr[j]
            arr[j] = temp
          }
        }
      }
      return arr
    }
    

    //高级实现
    /*
      传统冒泡排序中每一趟排序操作只能找到一个最大值或最小值,我们考虑利用在每趟排序中进行正向和反向两遍冒泡的方法一次可以得到两个最终值(最大者和最小者) , 从而使排序趟数几乎减少了一半。
    */
    function bubbleSort2(arr2) {
      var low = 0,
      high = arr2.length - 1,
      temp, j;
      console.time("开始")
      while(low < high) {
        for(var j = low; j < high; j++) {
          if(arr2[j] > arr2[j+1]) {
            temp = arr2[j+1]
            arr2[j+1] = arr2[j]
            arr2[j] = temp
          }
        }

        for(var j = high; j > low; j--) {
          if(arr2[j] < arr2[j-1]) {
            temp = arr2[j]
            arr2[j] = arr2[j-1]
            arr2[j-1] = temp
          }
        }
        low++
      }
      console.timeEnd("结束")
      return arr2
    }
    var arr2 = [1,4,3,2]
    console.log(bubbleSort2(arr2))
  </script>
</body>
</html>